<div class="breadcrum">
  <div class="container">
    <nav>
      <ul class="cd-breadcrumb custom-separator">
        <li><a [routerLink]="['/']">Home</a></li>
        <li><a [routerLink]="['/api-list']">API Directory</a></li>
        <li class="current">{{apiDetail.name}}</li>
      </ul>
    </nav>
  </div>
</div>

<section class="api-list-section-1">
  <div class="container">
    <div class="api-list-banner">
      <div class="list-heading">
        <h1>{{apiDetail.name}}</h1>
        <p>{{apiDetail.about}}</p>
      </div>
      <div class="api-pricing">
        <div class="api-price">
          <div class="selling-price"><strong>₹{{apiDetail.api_final_price_in_credits}} {{apiDetail.charge_unit}}</strong></div>
          <div class="original-price">₹{{apiDetail.api_base_price_in_credits}} {{apiDetail.charge_unit}}</div>
        </div>
        <div class="discount">{{apiDetail.api_discount}}%<span>Discount</span></div>
      </div>
      <div class="btn-row">
        <a class="btn primary-btn" href="#">Sign up and Start using</a>
        <a class="btn secondaty-btn" href="#">View Documentation</a>
      </div>
      <div class="cloude-enabled" style="display: none;">
        <h2>Enablements with</h2>
        <div class="cloude-service-list">
          <div>
            <img src="../../../assets/images/cloude-serivice-1.svg" alt="">
          </div>
          <div>
            <img src="../../../assets/images/cloude-serivice-2.svg" alt="">
          </div>
          <div>
            <img src="../../../assets/images/cloude-serivice-3.svg" alt="">
          </div>
        </div>
      </div>
    </div>
  </div>
</section>
<section class="api-code-section">
  <div class="container">
    <div class="api-version">
      <span>API Version</span>
      <div class="selcebox">
        <select class="api-select" id="select">
          <option>Version {{apiDetail.version}}</option>
        </select>
      </div>
    </div>
    <div class="api-code">
      <div class="api-code-heading">
        <div class="code-heading">
          <h2>Try Upaj API’s</h2>
          <p>You can try out our APIs on the Upaj Swagger Public Workspace. </p>
        </div>
        <div class="btn-wrap">
          <a [routerLink]="['/signup']" class="btn primary-btn">Let’s Go <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"
              viewBox="0 0 24 24" fill="none">
              <path d="M9.5 4.5V6.5H16.09L4.5 18.09L5.91 19.5L17.5 7.91V14.5H19.5V4.5H9.5Z" fill="black" />
            </svg></a>
        </div>
      </div>
      <div class="upaj-api">
        <ul class="code-tabs">
          <li class="code-tab" [class.active]="activeTab === 1" (click)="setActiveTab(1)">cURL</li>
          <li class="code-tab" [class.active]="activeTab === 2" (click)="setActiveTab(2)">Request Json</li>
          <li class="code-tab" [class.active]="activeTab === 3" (click)="setActiveTab(3)">Response</li>
        </ul>
        <div class="code-tab-content">
          <div class="hidden" [ngClass]="activeTab === 1 ? 'show' : ''">
            <div class="code-container">
              <div class="api-demo-code">
                <pre>
                  <code class="language-javascript">
                    {{ "import { Auth } from './auth'" }}
                    {{"const ticketImg = 'https://myticketimage.com';" }}

                    function Host() {{ '{' }}

                      {{ "const { data: signer } = useSigner();" }}
                      {{ "const { isConnected, address } =" }}
                      {{ "useAccount();"}}
                      {{ "const [userAccess, setUserAccess] =" }}
                      {{ "useState(false);"}}

                      {{ "useEffect(() => { " }}

                      {{ "const interval = setInterval( async () => {" }}
                      {{  "if (isConnected && signer) {"}}
                       
                      {{ "const = await hasAccess(signer," }}
                      {{ "GATE_CONTRACT_ADDRESS, GATE_ID);" }}
                       
                  </code>
                </pre>
              </div>
            </div>
          </div>
          <div class="hidden" [ngClass]="activeTab === 2 ? 'show' : ''">
            <div class="code-container">
              <div class="api-demo-code">
                <pre>
                  <code class="language-javascript">
                    {{ "import { Auth } from './auth'" }}
                    {{"const ticketImg = 'https://myticketimage.com';" }}

                    function Host() {{ '{' }}

                      {{ "const { data: signer } = useSigner();" }}
                      {{ "const { isConnected, address } =" }}
                      {{ "useAccount();"}}
                      {{ "const [userAccess, setUserAccess] =" }}
                      {{ "useState(false);"}}

                      {{ "useEffect(() => { " }}

                      {{ "const interval = setInterval( async () => {" }}
                      {{  "if (isConnected && signer) {"}}
                       
                      {{ "const = await hasAccess(signer," }}
                      {{ "GATE_CONTRACT_ADDRESS, GATE_ID);" }}
                       
                  </code>
                </pre>
              </div>
            </div>
          </div>
          <div class="hidden" [ngClass]="activeTab === 3 ? 'show' : ''">
            <div class="code-container">
              <div class="api-demo-code">
                <pre>
                  <code class="language-javascript">
                    {{ "import { Auth } from './auth'" }}
                    {{"const ticketImg = 'https://myticketimage.com';" }}

                    function Host() {{ '{' }}

                      {{ "const { data: signer } = useSigner();" }}
                      {{ "const { isConnected, address } =" }}
                      {{ "useAccount();"}}
                      {{ "const [userAccess, setUserAccess] =" }}
                      {{ "useState(false);"}}

                      {{ "useEffect(() => { " }}

                      {{ "const interval = setInterval( async () => {" }}
                      {{  "if (isConnected && signer) {"}}
                       
                      {{ "const = await hasAccess(signer," }}
                      {{ "GATE_CONTRACT_ADDRESS, GATE_ID);" }}
                       
                  </code>
                </pre>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="upaj-api">
        <div class="code-tab-content" style="border-radius: 16px;">
          <div class="code-container">
            <div class="api-demo-code">
              <pre>
                <code class="language-javascript">
                 {{ "API PROD URL" }} : {{apiDetail.prod_url}}
                </code>
              </pre>
            </div>
          </div>
        </div>
      </div>
      <div class="mobile-btn-go">
        <a [routerLink]="['/signup']" class="btn primary-btn"><span>Let’s Go</span> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"
          viewBox="0 0 24 24" fill="none">
          <path d="M9.5 4.5V6.5H16.09L4.5 18.09L5.91 19.5L17.5 7.91V14.5H19.5V4.5H9.5Z" fill="black" />
        </svg></a>
      </div>
    </div>
  </div>
</section>

<section class="api-table-section">
  <div class="container">
    <div class="api-table-wrap">
      <h2 class="api-table-heading">Input Attributes</h2>
      <div class="api-table-data">
        <table class="api-table attribute">
          <thead class="api-table-head">
            <tr>
              <th>Attribute</th>
              <th>Data Type</th>
              <th>Description</th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let item of apiDetail.input_attribute | keyvalue">
              <td>{{item.key}}</td>
              <td>{{ getFieldValue(item.value, 'data_type') }}</td>
              <td>{{ getFieldValue(item.value, 'description') }}</td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
    <div class="api-table-wrap">
      <h2 class="api-table-heading">Response Parameters</h2>
      <div class="api-table-data">
        <table class="api-table">
          <thead class="api-table-head">
            <tr>
              <th>Attribute</th>
              <th>Description</th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let item of apiDetail.output_attribute | keyvalue">
              <td>{{ item.key }}</td>
              <td>{{ item.value }}</td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
  </div>
</section>

<section class="api-table-section error-codes">
  <div class="container">
    <div class="api-table-wrap">
      <h2 class="api-table-heading">Response Code & Descriptions</h2>
      <div class="api-table-data">
        <div class="status-code">HTTP Status codes</div>
        <table class="api-table">
          <thead class="api-table-head">
            <tr>
              <th>Status Code</th>
              <th>Description</th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let item of statusCode | keyvalue">
              <td>{{item.key}}</td>
              <td>{{item.value}}</td>
            </tr>
          </tbody>
        </table>
      </div>
      <div class="api-table-data">
        <div class="status-code">API Error code</div>
        <table class="api-table">
          <thead class="api-table-head">
            <tr>
              <th>Status Code</th>
              <th>Description</th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let item of errorCode | keyvalue">
              <td>{{item.key}}</td>
              <td>{{item.value}}</td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
  </div>
</section>